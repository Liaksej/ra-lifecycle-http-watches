(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{7247:function(e,t,a){Promise.resolve().then(a.bind(a,8711))},8711:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Home}});var r=a(9424),s=a(3381),n=a(8887),l=a(8902);let Watches=e=>{let{watch:t,dispatch:a}=e,[i,c]=(0,s.useState)(new Date);(0,s.useEffect)(()=>{let e=setInterval(()=>{let e=new Date(Date.UTC(new Date().getUTCFullYear(),new Date().getUTCMonth(),new Date().getUTCDate(),new Date().getUTCHours(),new Date().getUTCMinutes(),new Date().getUTCSeconds(),new Date().getUTCMilliseconds()));e.setTime(e.getTime()+36e5*t.timezone),c(e)},1e3);return()=>clearInterval(e)},[t.timezone]);let d=i.toLocaleTimeString("en-GB"),[o,u,f]=d.split(":").map(parseFloat);return(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between self-end",children:[(0,r.jsx)("div",{className:"name w-2/3 whitespace-nowrap overflow-scroll hide-scrollbar",children:t.name}),(0,r.jsx)(n.Z,{className:"abs h-[20px] w-1/3 justify-self-end","aria-label":"delete",onClick:()=>a({type:"remove",payload:t}),children:(0,r.jsx)(l.Z,{color:"disabled"})})]}),(0,r.jsxs)("div",{className:"clock box-border origin-center w-[100px] h-[100px] border-[1px] border-gray-500 border-solid relative rounded-full",children:[(0,r.jsx)("div",{className:"hand hour-hand absolute bottom-1/2 left-1/2 transform -translate-x-1/2 origin-bottom bg-gray-700 w-[3px]",style:{height:"40%",transform:"rotate(".concat(30*o+.5*u,"deg)")}}),(0,r.jsx)("div",{className:"hand absolute minute-hand bottom-1/2 left-1/2 transform -translate-x-1/2 origin-bottom bg-gray-700 w-[1px]",style:{height:"46%",transform:"rotate(".concat(6*u+.1*f,"deg)")}})]})]})};var i=a(1759),c=a(2876),d=a(3326),o=a(4641),u=a(9634);let Form=e=>{let{dispatch:t}=e,a=(0,s.useRef)(null),n=(0,s.useRef)(null),[l,f]=(0,s.useState)("");return(0,r.jsx)("form",{className:"form",onSubmit:e=>{!function(e){var r;if(e.preventDefault(),a.current&&n.current){if(!isNaN(r=+n.current.value)&&r>=-12&&r<=12)f("");else{f("Временная зона: -12 до 12");return}t({type:"add",payload:{id:(0,u.Z)(),name:a.current.value,timezone:+n.current.value}}),a.current.value="",n.current.value=""}}(e)},children:(0,r.jsxs)(i.Z,{spacing:2,direction:"row",children:[(0,r.jsx)(c.Z,{inputRef:a,id:"standard-basic",label:"Название",variant:"standard",required:!0}),(0,r.jsxs)("div",{children:[(0,r.jsx)(c.Z,{inputRef:n,id:"standard-basic",label:"Временная зона",variant:"standard",required:!0}),l&&(0,r.jsx)(d.Z,{error:!0,children:l})]}),(0,r.jsx)(o.Z,{type:"submit",variant:"text",size:"small",children:"Добавить"})]})})};function reducer(e,t){switch(t.type){case"add":return{...e,watches:[...e.watches,t.payload]};case"remove":return{...e,watches:e.watches.filter(e=>e.id!==t.payload.id)};default:return e}}function Home(){let[e,t]=(0,s.useReducer)(reducer,{watches:[]});return(0,r.jsxs)("div",{className:"w-screen",children:[(0,r.jsx)("div",{className:"w-fit mx-auto",children:(0,r.jsx)(Form,{dispatch:t})}),(0,r.jsx)("div",{className:"w-full p-10 flex flex-wrap justify-center gap-6",children:e.watches.map(e=>(0,r.jsx)(Watches,{watch:e,dispatch:t},e.id))})]})}}},function(e){e.O(0,[757,362,95,744],function(){return e(e.s=7247)}),_N_E=e.O()}]);